---
title: "ADR 008: Frontend Infrastructure"
description: "We need to select a deployment platform for the Next.js frontend applications that optimizes Next.js applications, provides global CDN distribution, and supports edge functions."
---

# ADR 008: Frontend Infrastructure

## Context

We need to select a deployment platform for the Next.js frontend applications (Vecura UI and Mathler) that:

- Optimizes Next.js applications with built-in support for SSR, SSG, and ISR
- Provides global CDN distribution for fast page loads
- Supports edge functions and API routes
- Offers automatic image optimization
- Provides preview deployments for pull requests
- Integrates well with CI/CD pipelines
- Supports environment variable management
- Works seamlessly with monorepo structure
- Provides good observability and analytics
- Enables fast development and deployment cycles

## Considered Options

### Option A – Vercel

Serverless platform optimized for Next.js and React applications.

**Pros**

- Built by the Next.js team, optimized specifically for Next.js
- Excellent developer experience with zero-configuration deployment
- Automatic preview deployments for every pull request
- Built-in image optimization and font optimization
- Global edge network with automatic CDN distribution
- Serverless functions with edge runtime support
- Automatic HTTPS and custom domains
- Built-in analytics and performance monitoring
- Seamless monorepo support with automatic project detection
- Excellent CI/CD integration with GitHub, GitLab, and Bitbucket
- Environment variables and secrets management
- Instant rollbacks and deployment history
- Free tier for personal projects and reasonable pricing for production
- Supports Next.js App Router and React Server Components
- Edge middleware for request/response manipulation
- Automatic static optimization

**Cons**

- Vendor lock-in to Vercel platform
- Function execution time limits (10s on Hobby, 60s on Pro)
- Bandwidth limits on free tier
- Less control over infrastructure compared to self-hosted
- Pricing can scale with traffic

### Option B – Netlify

JAMstack platform for deploying web applications.

**Pros**

- Good Next.js support with Netlify Next.js plugin
- Automatic preview deployments
- Built-in form handling and serverless functions
- Good CDN distribution
- Free tier available
- Good developer experience

**Cons**

- Not as optimized for Next.js as Vercel
- Less seamless integration with Next.js features
- Smaller ecosystem for Next.js-specific optimizations
- Some Next.js features may require additional configuration
- Less mature Next.js support compared to Vercel

### Option C – Cloudflare Pages

Static site hosting with Cloudflare's edge network.

**Pros**

- Excellent global CDN distribution
- Free tier with generous limits
- Fast performance with Cloudflare's edge network
- Good security features (DDoS protection, WAF)
- Supports serverless functions with Workers

**Cons**

- Next.js support is less mature compared to Vercel
- Requires more configuration for Next.js features
- Less optimized for Next.js App Router
- Preview deployments may require additional setup
- Less seamless developer experience

### Option D – AWS Amplify

Full-stack hosting platform on AWS.

**Pros**

- Good integration with AWS services
- Supports Next.js with Amplify Hosting
- Global CDN with CloudFront
- Good for teams already using AWS ecosystem

**Cons**

- More complex setup and configuration
- Less optimized for Next.js compared to Vercel
- Higher learning curve
- More expensive for small to medium projects
- Less seamless developer experience

### Option E – Google Cloud Run (Next.js)

Containerized deployment on Google Cloud.

**Pros**

- Full control over infrastructure
- Good for teams using Google Cloud
- Supports Docker containers
- Auto-scaling capabilities

**Cons**

- Requires Docker configuration
- More complex setup for Next.js
- Less optimized for Next.js features
- No built-in preview deployments
- Higher operational overhead
- Not designed specifically for Next.js

### Option F – Self-Hosted (VPS/Dedicated Server)

Deploying on own infrastructure.

**Pros**

- Full control over infrastructure
- No vendor lock-in
- Customizable configuration

**Cons**

- Requires significant DevOps knowledge
- Higher operational overhead
- Manual scaling and monitoring setup
- No automatic preview deployments
- Security and maintenance responsibilities
- Higher upfront costs

### Option G – Railway

Modern platform for deploying applications.

**Pros**

- Simple deployment process
- Good developer experience
- Supports Docker and Next.js
- Automatic HTTPS

**Cons**

- Smaller platform with less Next.js-specific optimizations
- Limited global distribution
- Less mature monitoring and observability
- Pricing can be unpredictable at scale
- Preview deployments may be limited

### Option H – Render

Cloud platform for deploying applications.

**Pros**

- Simple deployment
- Automatic HTTPS
- Supports Next.js
- Good for small to medium applications

**Cons**

- Less optimized for Next.js compared to Vercel
- Limited global distribution
- Less Next.js-specific features
- Preview deployments may require additional setup

## Decision

We will deploy the Next.js frontend applications (Vecura UI and Mathler) on **Vercel**.

**Main reasons:**

- Built by the Next.js team with native optimizations for Next.js features (SSR, SSG, ISR, App Router)
- Excellent developer experience with zero-configuration deployment and automatic preview deployments
- Built-in image optimization, font optimization, and global CDN distribution for optimal performance
- Seamless monorepo support with automatic project detection and deployment
- Serverless functions with edge runtime support for API routes
- Built-in analytics, performance monitoring, and instant rollbacks
- Excellent CI/CD integration with GitHub and other version control systems
- Environment variables and secrets management with easy configuration
- Free tier for development and reasonable pricing for production workloads
- Automatic static optimization and edge middleware support

## Notes

- Configure environment variables per environment (development, preview, production)
- Use Vercel's analytics and Web Vitals monitoring to track performance
- Leverage preview deployments for testing before merging pull requests
- Consider Vercel's edge functions for low-latency API routes when needed
- Monitor bandwidth usage and function execution times as traffic scales
- Use Vercel's image optimization API for optimal image delivery
- Configure custom domains and SSL certificates through Vercel dashboard
- Review pricing regularly as traffic scales to optimize costs
