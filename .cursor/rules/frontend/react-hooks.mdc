---
description: React hooks patterns and best practices
globs: *.tsx,*.ts,**/hooks/**/*.ts,**/hooks/**/*.tsx
alwaysApply: false
---
# React Hooks Rules

## Core Principles
- Use TanStack Query (React Query) as primary data fetching solution
- Use useAsync/useAsyncFn for one-off async operations
- Follow hooks naming conventions (use-kebab-case.ts)

## TanStack Query Patterns
```tsx
import { useQuery, useMutation } from '@tanstack/react-query'

// Data fetching with proper types
export function useUserData(userId: string) {
  return useQuery({
    queryKey: ['user', userId],
    queryFn: async () => {
      const data = await fetchUser(userId)
      return data as User
    }
  })
}
```

## Async Operations
```tsx
import { useAsync, useAsyncFn } from 'react-use'

// For values that load once and remain static
export function useStaticData() {
  const state = useAsync(async () => {
    const data = await fetchStaticData()
    return data
  }, [])

  return state
}
```

## Custom Hooks Best Practices
- Combine multiple queries into single, cohesive hooks
- Avoid over-fetching data; optimize query dependencies