---
description: MCP server usage guidelines and best practices
globs: *.md,*.mdx,*.json
alwaysApply: false
---

# MCP Server Usage Rules

## Overview

Model Context Protocol (MCP) servers extend AI assistants with specialized capabilities. This project uses multiple MCP servers configured in `.cursor/mcp.json`.

## Available MCP Servers

- **shadcn**: UI component management (shadcn/ui)
- **v0**: UI design and component generation (v0.dev)
- **github**: GitHub repository operations
- **vercel**: Vercel deployment and project management

## When to Use Vercel MCP vs Manual Vercel CLI

### Use Vercel MCP When:
- Deploying projects through AI-assisted workflows
- Checking deployment status and build logs
- Managing domains and checking availability
- Creating shareable links for protected deployments
- Fetching content from Vercel deployments for verification
- Automating deployment workflows in Composer 1

### Use Manual Vercel CLI When:
- Debugging deployment issues that require interactive troubleshooting
- Performing one-off operations that don't benefit from AI assistance
- When you need direct control over the deployment process
- Testing Vercel CLI commands before automating them

## Preferred MCP Tools for Common Tasks

### Deployments
- **Vercel MCP**: `deploy_to_vercel`, `list_deployments`, `get_deployment`, `get_deployment_build_logs`
- Use these tools to deploy, monitor, and troubleshoot deployments

### Domain Management
- **Vercel MCP**: `check_domain_availability_and_price`, `buy_domain`
- Use for domain-related operations

### Project Management
- **Vercel MCP**: `list_projects`, `get_project`
- Use for accessing project information

### Access Management
- **Vercel MCP**: `get_access_to_vercel_url`, `web_fetch_vercel_url`
- Use for managing access to protected deployments

## Integration Patterns

### Combining MCP Servers
- **GitHub + Vercel**: Use GitHub MCP to read repository structure, then Vercel MCP to deploy
- **v0 + Shadcn**: Use v0.dev to generate initial designs, then Shadcn MCP to add specific components
- **Vercel + GitHub**: Deploy with Vercel MCP, then use GitHub MCP to create deployment-related issues

### Workflow Examples

**Deployment Workflow**:
1. Use GitHub MCP to verify repository state
2. Use Vercel MCP to deploy
3. Use Vercel MCP to check build logs if deployment fails
4. Use GitHub MCP to create issues for any problems found

**Component Development Workflow**:
1. Use v0.dev MCP to generate initial component design
2. Use Shadcn MCP to add specific UI components
3. Use GitHub MCP to commit changes

## Portability Considerations

When using Vercel MCP, remember our **portable-by-default** architectural principle:

- **Default approach**: Avoid Vercel-specific features to maintain portability
- **Pragmatic exceptions**: Leverage Vercel's advanced features (edge functions, optimizations) when scaling/performance needs justify from product/business perspective
- The stack is designed to run on any Linux distribution and can be deployed to any containerized platform
- Vercel is a deployment convenience for rapid iteration, not a requirement

## Best Practices

1. **Always verify MCP actions**: Review what the AI is doing, especially for deployments
2. **Use appropriate MCP for the task**: Each MCP server has specific capabilities
3. **Keep API keys secure**: Never commit API keys to version control
4. **Document MCP usage**: When using MCP servers in workflows, document the approach
5. **Test deployments**: Always verify deployments work correctly after using Vercel MCP
6. **Maintain portability**: When using Vercel features, consider if they're essential or just convenient

## References

- See [MCP Servers Usage Guide](../../docs/mcp-servers.md) for detailed documentation
- Vercel MCP tools: https://vercel.com/docs/mcp/vercel-mcp/tools
- Cursor MCP documentation: https://cursor.com/docs/context/model-context-protocol
